<div class="explanation centered">
    <h1>Simulation Overview and Requirements</h1>
    <p>
        This simulation takes into account the current up-to-date Bitcoin prices in two different platforms (European vs 
    Korean), and returns profit & ROI with user-input transaction amount. Put the amount of money you'd like to use 
    for the arbitrage transaction and click "Simulate" button.<br><br>
    The simulation flow assumes that you start your transaction from Korean account. 
    Check the Simulation Flow and Fees table below for more details on the steps involved in the arbitrage process.
    This simulation assumes that you have following accounts:
    </p>
    
    <ul style="text-align:left; display:inline-block;">
        <li>A Wise account to convert KRW to EUR</li>
        <li>A Bitvavo account to buy BTC with EUR</li>
        <li>A CoinOne account to sell BTC for KRW</li>
        <li>A Korean bank account to receive KRW from CoinOne</li>
        <li>A Bitvavo account to receive EUR from Wise</li>
    </ul>
    <p>
        Below shows how much profit and ROI you can expect, and a breakdown of each arbitrage transaction step and how it affects your profitability.
    </p>
</div>

<div class="centered" style="margin-top:40px;">
        <h1>Simulation Flow and Fees</h1>
        <table style="margin: 0 auto; border-collapse: collapse; font-size: 1em;">
            <thead>
                <tr>
                    <th style="border:1px solid #ccc; padding:8px;">Step</th>
                    <th style="border:1px solid #ccc; padding:8px;">Description</th>
                    <th style="border:1px solid #ccc; padding:8px;">Fee/Rate</th>
                    <th style="border:1px solid #ccc; padding:8px;">‚è±Ô∏è Estimated Time</th>
                    <th class="notes-col" style="border:1px solid #ccc; padding:8px;">üìò Time estimation notes</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="border:1px solid #ccc; padding:8px;">1</td>
                    <td style="border:1px solid #ccc; padding:8px;">Convert KRW ‚Üí EUR via Wise</td>
                    <td style="border:1px solid #ccc; padding:8px;">5,000 KRW</td>
                    <td style="border:1px solid #ccc; padding:8px;">0.5 ‚Äì 2 hours</td>
                    <td class="notes-col" style="border:1px solid #ccc; padding:8px;">Wise is generally fast, but cross-border KRW ‚Üí EUR transfers may take longer due to banking hours or compliance checks</td>
                </tr>
                <tr>
                    <td style="border:1px solid #ccc; padding:8px;">2</td>
                    <td style="border:1px solid #ccc; padding:8px;">Deposit EUR to Bitvavo</td>
                    <td style="border:1px solid #ccc; padding:8px;">0 EUR</td>
                    <td style="border:1px solid #ccc; padding:8px;">1 minute</td>
                    <td class="notes-col" style="border:1px solid #ccc; padding:8px;">If you deposit from a supported EU bank using SEPA Instant, it's often immediate.</td>
                </tr>
                <tr>
                    <td style="border:1px solid #ccc; padding:8px;">3</td>
                    <td style="border:1px solid #ccc; padding:8px;">Buy BTC on Bitvavo</td>
                    <td style="border:1px solid #ccc; padding:8px;">0.25% fee + 0.3% slippage</td>
                    <td style="border:1px solid #ccc; padding:8px;">1 minute</td>
                    <td class="notes-col" style="border:1px solid #ccc; padding:8px;">Market buy orders execute almost instantly, but APIs/UI lag or rate limits could slow this slightly</td>
                </tr>
                <tr>
                    <td style="border:1px solid #ccc; padding:8px;">4</td>
                    <td style="border:1px solid #ccc; padding:8px;">Transfer BTC from Bitvavo to CoinOne</td>
                    <td style="border:1px solid #ccc; padding:8px;">0.0005 BTC + 0.0001 BTC network fee</td>
                    <td style="border:1px solid #ccc; padding:8px;">30 ‚Äì 60 minutes</td>
                    <td class="notes-col" style="border:1px solid #ccc; padding:8px;">BTC transfers require confirmations (usually 1‚Äì3) before CoinOne credits your account. Time varies with network fee and congestion</td>
                </tr>
                <tr>
                    <td style="border:1px solid #ccc; padding:8px;">5</td>
                    <td style="border:1px solid #ccc; padding:8px;">Sell BTC on CoinOne</td>
                    <td style="border:1px solid #ccc; padding:8px;">0.1% fee + 0.2% slippage</td>
                    <td style="border:1px solid #ccc; padding:8px;">1 minute</td>
                    <td class="notes-col" style="border:1px solid #ccc; padding:8px;">Like the buy side, this is fast assuming market liquidity and minimal slippage</td>
                </tr>
            </tbody>
        </table>
    </div>

<div class="explanation-block">
    <p><b>‚úÖ Fee/Rate and Estimated Time are estimated</b><br>
    Fee/Rate and Estimated Time in the table are calculated based on recent trends. Getting real-time values from API's is currently under develpment.</p>
</div>
<div class="explanation-block">
    <p><b>‚úÖ What is slippage?</b><br>
    Slippage is the difference between the expected price (quoted/market) and the actual execution price of an asset ‚Äî due to: Market volatility, Low liquidity at the target price, Delays in execution</p>
</div>
<div class="explanation-block">
    <p><b>Estimated Total Time:</b> 1h 45m (Avg)</p>
    <p>‚ö†Ô∏è Times may vary due to banking hours, BTC network congestion, and FX transfer compliance.</p>
    <p><b>Why does execution time matter?</b><br>
    The Korean premium can change significantly over time. If your arbitrage process takes several hours, the premium you see at the start may be very different by the time you finish. Check the premium graphs above to see how much it can fluctuate during the day.</p>
</div>

<h1 class="centered" style="margin-top:50px;">Run Simulation</h1>
<form id="simForm" class="centered">
    <label for="krwAmount">Amount to Arbitrage (KRW):</label>
    <input type="number" id="krwAmount" value="1000000" min="10000" step="10000">
    <button type="button" onclick="runSimulation()">Simulate</button>
</form>
<h1 class="centered" style="margin-top:50px;">Simulation Results</h1>
<div id="profitSummary" class="centered" style="margin-top:30px;"></div>
<div id="simulationResults" class="centered" style="margin-top:30px;"></div>